{"version":3,"sources":["/Users/matt/Sites/MarketEdge/platform-wrapper/frontend/src/components/ui/FeatureFlaggedApplicationRegistry.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { \n  ChartBarIcon, \n  CogIcon, \n  EyeIcon,\n  ArrowTopRightOnSquareIcon,\n  BuildingOfficeIcon,\n  UsersIcon,\n  ChartPieIcon,\n  FlagIcon,\n  ExclamationTriangleIcon,\n  ShieldCheckIcon,\n  CheckCircleIcon,\n  XCircleIcon\n} from '@heroicons/react/24/outline'\nimport { ApplicationConfig, APPLICATION_REGISTRY } from './ApplicationRegistry'\nimport { useApplicationAccess } from '@/hooks/useModuleFeatureFlag'\nimport { useRouter } from 'next/navigation'\n\ninterface FeatureFlaggedApplicationRegistryProps {\n  onApplicationSelect?: (application: ApplicationConfig) => void\n  filter?: {\n    category?: ApplicationConfig['category']\n    status?: ApplicationConfig['status']\n  }\n  showFlagStatus?: boolean\n  showModuleHealth?: boolean\n  className?: string\n}\n\ninterface ApplicationCardWithFlagsProps {\n  application: ApplicationConfig\n  onSelect?: (application: ApplicationConfig) => void\n  showFlagStatus?: boolean\n  showModuleHealth?: boolean\n  showFeatures?: boolean\n  compact?: boolean\n  className?: string\n}\n\nfunction ApplicationCardWithFlags({ \n  application, \n  onSelect,\n  showFlagStatus = true,\n  showModuleHealth = true,\n  showFeatures = true,\n  compact = false,\n  className = ''\n}: ApplicationCardWithFlagsProps) {\n  const { icon: Icon, color } = application\n  const router = useRouter()\n  const [showDetails, setShowDetails] = useState(false)\n\n  // Use the application access hook to check flags and module status\n  const {\n    canAccessApplication,\n    canAccessFeature,\n    canUseCapability,\n    applicationConfig,\n    moduleCapabilities,\n    isLoading,\n    error,\n    debugInfo\n  } = useApplicationAccess(application.id)\n\n  const handleCardClick = () => {\n    if (canAccessApplication && !isLoading) {\n      if (onSelect) {\n        onSelect(application)\n      } else {\n        router.push(application.route)\n      }\n    }\n  }\n\n  const getAccessStatus = () => {\n    if (isLoading) return { status: 'loading', color: 'gray' }\n    if (error) return { status: 'error', color: 'red' }\n    if (canAccessApplication) return { status: 'enabled', color: 'green' }\n    return { status: 'disabled', color: 'red' }\n  }\n\n  const accessStatus = getAccessStatus()\n\n  return (\n    <div \n      className={`\n        bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md \n        transition-all duration-200 relative\n        ${canAccessApplication && !isLoading ? 'cursor-pointer hover:-translate-y-1' : 'cursor-not-allowed opacity-75'}\n        ${className}\n      `}\n      onClick={handleCardClick}\n    >\n      {/* Flag Status Indicator */}\n      {showFlagStatus && (\n        <div className=\"absolute top-3 right-3 flex items-center space-x-1\">\n          <div className={`w-3 h-3 rounded-full ${\n            accessStatus.status === 'loading' ? 'bg-gray-400 animate-pulse' :\n            accessStatus.status === 'enabled' ? 'bg-green-500' :\n            accessStatus.status === 'error' ? 'bg-yellow-500' : 'bg-red-500'\n          }`} />\n          {showDetails && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation()\n                setShowDetails(!showDetails)\n              }}\n              className=\"p-1 text-gray-400 hover:text-gray-600\"\n            >\n              <FlagIcon className=\"h-4 w-4\" />\n            </button>\n          )}\n        </div>\n      )}\n\n      <div className={`${compact ? 'p-4' : 'p-6'}`}>\n        {/* Header */}\n        <div className=\"flex items-center mb-3\">\n          <div className={`w-10 h-10 rounded-lg bg-gradient-to-br ${color.gradient} flex items-center justify-center shadow-sm ${\n            !canAccessApplication && !isLoading ? 'grayscale' : ''\n          }`}>\n            <Icon className=\"h-6 w-6 text-white\" />\n          </div>\n          <div className=\"ml-3 flex-1\">\n            <h3 className=\"font-semibold text-gray-900\">{application.displayName}</h3>\n            <div className=\"flex items-center space-x-2\">\n              <span className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${\n                canAccessApplication ? `bg-green-100 text-green-800` : `bg-red-100 text-red-800`\n              }`}>\n                {isLoading ? 'Checking...' : canAccessApplication ? 'Available' : 'Restricted'}\n              </span>\n              {!isLoading && canAccessApplication && (\n                <ArrowTopRightOnSquareIcon className=\"h-3 w-3 text-gray-400\" />\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <p className=\"text-sm text-gray-600 mb-3\">\n          {application.description}\n        </p>\n\n        {/* Feature Flags Status */}\n        {showFlagStatus && !compact && (\n          <div className=\"mb-3\">\n            <div className=\"flex items-center justify-between text-xs text-gray-500 mb-1\">\n              <span>Feature Flags</span>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation()\n                  setShowDetails(!showDetails)\n                }}\n                className=\"text-blue-600 hover:text-blue-700\"\n              >\n                {showDetails ? 'Hide' : 'Show'} Details\n              </button>\n            </div>\n            \n            <div className=\"flex items-center space-x-1\">\n              {/* Required Flags */}\n              {application.requiredFlags.map((flagKey) => (\n                <div\n                  key={flagKey}\n                  className={`w-2 h-2 rounded-full ${\n                    debugInfo.requiredFlags[flagKey] ? 'bg-green-500' : 'bg-red-500'\n                  }`}\n                  title={`Required: ${flagKey} - ${debugInfo.requiredFlags[flagKey] ? 'Enabled' : 'Disabled'}`}\n                />\n              ))}\n              \n              {/* Optional Flags */}\n              {application.optionalFlags.map((flagKey) => (\n                <div\n                  key={flagKey}\n                  className={`w-2 h-2 rounded-full border ${\n                    debugInfo.optionalFlags[flagKey] \n                      ? 'bg-blue-500 border-blue-500' \n                      : 'bg-gray-300 border-gray-300'\n                  }`}\n                  title={`Optional: ${flagKey} - ${debugInfo.optionalFlags[flagKey] ? 'Enabled' : 'Disabled'}`}\n                />\n              ))}\n              \n              {/* Module Status */}\n              <div className=\"ml-2 flex items-center\">\n                <ShieldCheckIcon className={`h-3 w-3 ${\n                  debugInfo.moduleEnabled \n                    ? debugInfo.moduleHealth === 'healthy' ? 'text-green-500' : 'text-yellow-500'\n                    : 'text-red-500'\n                }`} />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Module Capabilities */}\n        {showModuleHealth && moduleCapabilities.length > 0 && !compact && (\n          <div className=\"mb-3\">\n            <p className=\"text-xs text-gray-500 mb-1\">Capabilities ({moduleCapabilities.length}):</p>\n            <div className=\"flex flex-wrap gap-1\">\n              {moduleCapabilities.slice(0, 3).map((capability) => (\n                <span\n                  key={capability}\n                  className={`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium ${\n                    canUseCapability(capability) \n                      ? 'bg-blue-100 text-blue-800' \n                      : 'bg-gray-100 text-gray-600'\n                  }`}\n                >\n                  {capability}\n                </span>\n              ))}\n              {moduleCapabilities.length > 3 && (\n                <span className=\"text-xs text-gray-400\">\n                  +{moduleCapabilities.length - 3}\n                </span>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Features List */}\n        {showFeatures && !compact && (\n          <div className=\"space-y-1\">\n            {application.features.slice(0, 3).map((feature, index) => (\n              <div key={index} className=\"flex items-center text-xs text-gray-500\">\n                <div className={`w-1.5 h-1.5 rounded-full ${\n                  canAccessApplication ? `bg-${color.primary}` : 'bg-gray-400'\n                } mr-2`} />\n                {feature}\n              </div>\n            ))}\n            {application.features.length > 3 && (\n              <div className=\"text-xs text-gray-400 pl-3.5\">\n                +{application.features.length - 3} more features\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Detailed Flag Information */}\n        {showDetails && (\n          <div className=\"mt-4 pt-3 border-t border-gray-200 text-xs space-y-2\">\n            <div>\n              <span className=\"font-medium text-gray-700\">Required Flags:</span>\n              <div className=\"mt-1 space-y-1\">\n                {application.requiredFlags.map((flagKey) => (\n                  <div key={flagKey} className=\"flex items-center justify-between\">\n                    <span className=\"text-gray-600\">{flagKey}</span>\n                    <span className={`inline-flex items-center px-1.5 py-0.5 rounded text-xs ${\n                      debugInfo.requiredFlags[flagKey] \n                        ? 'bg-green-100 text-green-800' \n                        : 'bg-red-100 text-red-800'\n                    }`}>\n                      {debugInfo.requiredFlags[flagKey] ? 'Enabled' : 'Disabled'}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {application.optionalFlags.length > 0 && (\n              <div>\n                <span className=\"font-medium text-gray-700\">Optional Flags:</span>\n                <div className=\"mt-1 space-y-1\">\n                  {application.optionalFlags.map((flagKey) => (\n                    <div key={flagKey} className=\"flex items-center justify-between\">\n                      <span className=\"text-gray-600\">{flagKey}</span>\n                      <span className={`inline-flex items-center px-1.5 py-0.5 rounded text-xs ${\n                        debugInfo.optionalFlags[flagKey] \n                          ? 'bg-blue-100 text-blue-800' \n                          : 'bg-gray-100 text-gray-600'\n                      }`}>\n                        {debugInfo.optionalFlags[flagKey] ? 'Enabled' : 'Disabled'}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <div>\n              <span className=\"font-medium text-gray-700\">Module Status:</span>\n              <div className=\"mt-1 flex items-center justify-between\">\n                <span className=\"text-gray-600\">{application.moduleId}</span>\n                <div className=\"flex items-center space-x-2\">\n                  <span className={`inline-flex items-center px-1.5 py-0.5 rounded text-xs ${\n                    debugInfo.moduleEnabled \n                      ? 'bg-green-100 text-green-800' \n                      : 'bg-red-100 text-red-800'\n                  }`}>\n                    {debugInfo.moduleEnabled ? 'Enabled' : 'Disabled'}\n                  </span>\n                  <span className={`inline-flex items-center px-1.5 py-0.5 rounded text-xs ${\n                    debugInfo.moduleHealth === 'healthy' ? 'bg-green-100 text-green-800' :\n                    debugInfo.moduleHealth === 'degraded' ? 'bg-yellow-100 text-yellow-800' :\n                    'bg-red-100 text-red-800'\n                  }`}>\n                    {debugInfo.moduleHealth}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Error State */}\n        {error && (\n          <div className=\"mt-3 p-2 bg-red-50 border border-red-200 rounded text-xs\">\n            <div className=\"flex items-center text-red-800\">\n              <ExclamationTriangleIcon className=\"h-3 w-3 mr-1\" />\n              Error: {error.message}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default function FeatureFlaggedApplicationRegistry({ \n  onApplicationSelect,\n  filter,\n  showFlagStatus = true,\n  showModuleHealth = true,\n  className = ''\n}: FeatureFlaggedApplicationRegistryProps) {\n  let applications = APPLICATION_REGISTRY\n\n  // Apply filters\n  if (filter?.category) {\n    applications = applications.filter(app => app.category === filter.category)\n  }\n  if (filter?.status) {\n    applications = applications.filter(app => app.status === filter.status)\n  }\n\n  // Sort by priority\n  applications = applications.sort((a, b) => a.priority - b.priority)\n\n  const categoryIcons = {\n    analytics: ChartPieIcon,\n    intelligence: BuildingOfficeIcon,\n    optimization: UsersIcon\n  }\n\n  return (\n    <div className={`space-y-8 ${className}`}>\n      {/* Header */}\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n          Application Registry\n        </h2>\n        <p className=\"text-gray-600\">\n          Access applications based on your feature flags and permissions\n        </p>\n      </div>\n\n      {/* Applications Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {applications.map((app) => (\n          <ApplicationCardWithFlags\n            key={app.id}\n            application={app}\n            onSelect={onApplicationSelect}\n            showFlagStatus={showFlagStatus}\n            showModuleHealth={showModuleHealth}\n            showFeatures={true}\n          />\n        ))}\n      </div>\n\n      {/* Categories Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-8 border-t border-gray-200\">\n        {Object.entries(categoryIcons).map(([category, Icon]) => {\n          const categoryApps = applications.filter(app => app.category === category)\n          if (categoryApps.length === 0) return null\n\n          return (\n            <div key={category} className=\"text-center\">\n              <Icon className=\"h-8 w-8 text-gray-400 mx-auto mb-2\" />\n              <h3 className=\"font-medium text-gray-900 capitalize\">{category}</h3>\n              <p className=\"text-sm text-gray-500\">{categoryApps.length} application{categoryApps.length !== 1 ? 's' : ''}</p>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}"],"names":["FeatureFlaggedApplicationRegistry","ApplicationCardWithFlags","application","onSelect","showFlagStatus","showModuleHealth","showFeatures","compact","className","icon","Icon","color","router","useRouter","showDetails","setShowDetails","useState","canAccessApplication","canAccessFeature","canUseCapability","applicationConfig","moduleCapabilities","isLoading","error","debugInfo","useApplicationAccess","id","handleCardClick","push","route","getAccessStatus","status","accessStatus","div","onClick","button","e","stopPropagation","FlagIcon","gradient","h3","displayName","span","ArrowTopRightOnSquareIcon","p","description","requiredFlags","map","flagKey","title","optionalFlags","ShieldCheckIcon","moduleEnabled","moduleHealth","length","slice","capability","features","feature","index","primary","moduleId","ExclamationTriangleIcon","message","onApplicationSelect","filter","applications","APPLICATION_REGISTRY","category","app","sort","a","b","priority","categoryIcons","analytics","ChartPieIcon","intelligence","BuildingOfficeIcon","optimization","UsersIcon","h2","Object","entries","categoryApps"],"mappings":"AAAA;;;;;+BAmUA;;;eAAwBA;;;;+DAjUQ;yBAczB;qCACiD;sCACnB;4BACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuB1B,SAASC,yBAAyB,EAChCC,WAAW,EACXC,QAAQ,EACRC,iBAAiB,IAAI,EACrBC,mBAAmB,IAAI,EACvBC,eAAe,IAAI,EACnBC,UAAU,KAAK,EACfC,YAAY,EAAE,EACgB;IAC9B,MAAM,EAAEC,MAAMC,IAAI,EAAEC,KAAK,EAAE,GAAGT;IAC9B,MAAMU,SAASC,IAAAA,qBAAS;IACxB,MAAM,CAACC,aAAaC,eAAe,GAAGC,IAAAA,eAAQ,EAAC;IAE/C,mEAAmE;IACnE,MAAM,EACJC,oBAAoB,EACpBC,gBAAgB,EAChBC,gBAAgB,EAChBC,iBAAiB,EACjBC,kBAAkB,EAClBC,SAAS,EACTC,KAAK,EACLC,SAAS,EACV,GAAGC,IAAAA,0CAAoB,EAACvB,YAAYwB,EAAE;IAEvC,MAAMC,kBAAkB;QACtB,IAAIV,wBAAwB,CAACK,WAAW;YACtC,IAAInB,UAAU;gBACZA,SAASD;YACX,OAAO;gBACLU,OAAOgB,IAAI,CAAC1B,YAAY2B,KAAK;YAC/B;QACF;IACF;IAEA,MAAMC,kBAAkB;QACtB,IAAIR,WAAW,OAAO;YAAES,QAAQ;YAAWpB,OAAO;QAAO;QACzD,IAAIY,OAAO,OAAO;YAAEQ,QAAQ;YAASpB,OAAO;QAAM;QAClD,IAAIM,sBAAsB,OAAO;YAAEc,QAAQ;YAAWpB,OAAO;QAAQ;QACrE,OAAO;YAAEoB,QAAQ;YAAYpB,OAAO;QAAM;IAC5C;IAEA,MAAMqB,eAAeF;IAErB,qBACE,sBAACG;QACCzB,WAAW,CAAC;;;QAGV,EAAES,wBAAwB,CAACK,YAAY,wCAAwC,gCAAgC;QAC/G,EAAEd,UAAU;MACd,CAAC;QACD0B,SAASP;;YAGRvB,gCACC,sBAAC6B;gBAAIzB,WAAU;;kCACb,qBAACyB;wBAAIzB,WAAW,CAAC,qBAAqB,EACpCwB,aAAaD,MAAM,KAAK,YAAY,8BACpCC,aAAaD,MAAM,KAAK,YAAY,iBACpCC,aAAaD,MAAM,KAAK,UAAU,kBAAkB,aACrD,CAAC;;oBACDjB,6BACC,qBAACqB;wBACCD,SAAS,CAACE;4BACRA,EAAEC,eAAe;4BACjBtB,eAAe,CAACD;wBAClB;wBACAN,WAAU;kCAEV,cAAA,qBAAC8B,iBAAQ;4BAAC9B,WAAU;;;;;0BAM5B,sBAACyB;gBAAIzB,WAAW,CAAC,EAAED,UAAU,QAAQ,MAAM,CAAC;;kCAE1C,sBAAC0B;wBAAIzB,WAAU;;0CACb,qBAACyB;gCAAIzB,WAAW,CAAC,uCAAuC,EAAEG,MAAM4B,QAAQ,CAAC,4CAA4C,EACnH,CAACtB,wBAAwB,CAACK,YAAY,cAAc,GACrD,CAAC;0CACA,cAAA,qBAACZ;oCAAKF,WAAU;;;0CAElB,sBAACyB;gCAAIzB,WAAU;;kDACb,qBAACgC;wCAAGhC,WAAU;kDAA+BN,YAAYuC,WAAW;;kDACpE,sBAACR;wCAAIzB,WAAU;;0DACb,qBAACkC;gDAAKlC,WAAW,CAAC,iEAAiE,EACjFS,uBAAuB,CAAC,2BAA2B,CAAC,GAAG,CAAC,uBAAuB,CAAC,CACjF,CAAC;0DACCK,YAAY,gBAAgBL,uBAAuB,cAAc;;4CAEnE,CAACK,aAAaL,sCACb,qBAAC0B,kCAAyB;gDAACnC,WAAU;;;;;;;;kCAM7C,qBAACoC;wBAAEpC,WAAU;kCACVN,YAAY2C,WAAW;;oBAIzBzC,kBAAkB,CAACG,yBAClB,sBAAC0B;wBAAIzB,WAAU;;0CACb,sBAACyB;gCAAIzB,WAAU;;kDACb,qBAACkC;kDAAK;;kDACN,sBAACP;wCACCD,SAAS,CAACE;4CACRA,EAAEC,eAAe;4CACjBtB,eAAe,CAACD;wCAClB;wCACAN,WAAU;;4CAETM,cAAc,SAAS;4CAAO;;;;;0CAInC,sBAACmB;gCAAIzB,WAAU;;oCAEZN,YAAY4C,aAAa,CAACC,GAAG,CAAC,CAACC,wBAC9B,qBAACf;4CAECzB,WAAW,CAAC,qBAAqB,EAC/BgB,UAAUsB,aAAa,CAACE,QAAQ,GAAG,iBAAiB,aACrD,CAAC;4CACFC,OAAO,CAAC,UAAU,EAAED,QAAQ,GAAG,EAAExB,UAAUsB,aAAa,CAACE,QAAQ,GAAG,YAAY,WAAW,CAAC;2CAJvFA;oCASR9C,YAAYgD,aAAa,CAACH,GAAG,CAAC,CAACC,wBAC9B,qBAACf;4CAECzB,WAAW,CAAC,4BAA4B,EACtCgB,UAAU0B,aAAa,CAACF,QAAQ,GAC5B,gCACA,8BACL,CAAC;4CACFC,OAAO,CAAC,UAAU,EAAED,QAAQ,GAAG,EAAExB,UAAU0B,aAAa,CAACF,QAAQ,GAAG,YAAY,WAAW,CAAC;2CANvFA;kDAWT,qBAACf;wCAAIzB,WAAU;kDACb,cAAA,qBAAC2C,wBAAe;4CAAC3C,WAAW,CAAC,QAAQ,EACnCgB,UAAU4B,aAAa,GACnB5B,UAAU6B,YAAY,KAAK,YAAY,mBAAmB,oBAC1D,eACL,CAAC;;;;;;;oBAOThD,oBAAoBgB,mBAAmBiC,MAAM,GAAG,KAAK,CAAC/C,yBACrD,sBAAC0B;wBAAIzB,WAAU;;0CACb,sBAACoC;gCAAEpC,WAAU;;oCAA6B;oCAAea,mBAAmBiC,MAAM;oCAAC;;;0CACnF,sBAACrB;gCAAIzB,WAAU;;oCACZa,mBAAmBkC,KAAK,CAAC,GAAG,GAAGR,GAAG,CAAC,CAACS,2BACnC,qBAACd;4CAEClC,WAAW,CAAC,mEAAmE,EAC7EW,iBAAiBqC,cACb,8BACA,4BACL,CAAC;sDAEDA;2CAPIA;oCAURnC,mBAAmBiC,MAAM,GAAG,mBAC3B,sBAACZ;wCAAKlC,WAAU;;4CAAwB;4CACpCa,mBAAmBiC,MAAM,GAAG;;;;;;;oBAQvChD,gBAAgB,CAACC,yBAChB,sBAAC0B;wBAAIzB,WAAU;;4BACZN,YAAYuD,QAAQ,CAACF,KAAK,CAAC,GAAG,GAAGR,GAAG,CAAC,CAACW,SAASC,sBAC9C,sBAAC1B;oCAAgBzB,WAAU;;sDACzB,qBAACyB;4CAAIzB,WAAW,CAAC,yBAAyB,EACxCS,uBAAuB,CAAC,GAAG,EAAEN,MAAMiD,OAAO,CAAC,CAAC,GAAG,cAChD,KAAK,CAAC;;wCACNF;;mCAJOC;4BAOXzD,YAAYuD,QAAQ,CAACH,MAAM,GAAG,mBAC7B,sBAACrB;gCAAIzB,WAAU;;oCAA+B;oCAC1CN,YAAYuD,QAAQ,CAACH,MAAM,GAAG;oCAAE;;;;;oBAOzCxC,6BACC,sBAACmB;wBAAIzB,WAAU;;0CACb,sBAACyB;;kDACC,qBAACS;wCAAKlC,WAAU;kDAA4B;;kDAC5C,qBAACyB;wCAAIzB,WAAU;kDACZN,YAAY4C,aAAa,CAACC,GAAG,CAAC,CAACC,wBAC9B,sBAACf;gDAAkBzB,WAAU;;kEAC3B,qBAACkC;wDAAKlC,WAAU;kEAAiBwC;;kEACjC,qBAACN;wDAAKlC,WAAW,CAAC,uDAAuD,EACvEgB,UAAUsB,aAAa,CAACE,QAAQ,GAC5B,gCACA,0BACL,CAAC;kEACCxB,UAAUsB,aAAa,CAACE,QAAQ,GAAG,YAAY;;;+CAP1CA;;;;4BAcf9C,YAAYgD,aAAa,CAACI,MAAM,GAAG,mBAClC,sBAACrB;;kDACC,qBAACS;wCAAKlC,WAAU;kDAA4B;;kDAC5C,qBAACyB;wCAAIzB,WAAU;kDACZN,YAAYgD,aAAa,CAACH,GAAG,CAAC,CAACC,wBAC9B,sBAACf;gDAAkBzB,WAAU;;kEAC3B,qBAACkC;wDAAKlC,WAAU;kEAAiBwC;;kEACjC,qBAACN;wDAAKlC,WAAW,CAAC,uDAAuD,EACvEgB,UAAU0B,aAAa,CAACF,QAAQ,GAC5B,8BACA,4BACL,CAAC;kEACCxB,UAAU0B,aAAa,CAACF,QAAQ,GAAG,YAAY;;;+CAP1CA;;;;0CAelB,sBAACf;;kDACC,qBAACS;wCAAKlC,WAAU;kDAA4B;;kDAC5C,sBAACyB;wCAAIzB,WAAU;;0DACb,qBAACkC;gDAAKlC,WAAU;0DAAiBN,YAAY2D,QAAQ;;0DACrD,sBAAC5B;gDAAIzB,WAAU;;kEACb,qBAACkC;wDAAKlC,WAAW,CAAC,uDAAuD,EACvEgB,UAAU4B,aAAa,GACnB,gCACA,0BACL,CAAC;kEACC5B,UAAU4B,aAAa,GAAG,YAAY;;kEAEzC,qBAACV;wDAAKlC,WAAW,CAAC,uDAAuD,EACvEgB,UAAU6B,YAAY,KAAK,YAAY,gCACvC7B,UAAU6B,YAAY,KAAK,aAAa,kCACxC,0BACD,CAAC;kEACC7B,UAAU6B,YAAY;;;;;;;;;;oBASlC9B,uBACC,qBAACU;wBAAIzB,WAAU;kCACb,cAAA,sBAACyB;4BAAIzB,WAAU;;8CACb,qBAACsD,gCAAuB;oCAACtD,WAAU;;gCAAiB;gCAC5Ce,MAAMwC,OAAO;;;;;;;;AAOnC;AAEe,SAAS/D,kCAAkC,EACxDgE,mBAAmB,EACnBC,MAAM,EACN7D,iBAAiB,IAAI,EACrBC,mBAAmB,IAAI,EACvBG,YAAY,EAAE,EACyB;IACvC,IAAI0D,eAAeC,yCAAoB;IAEvC,gBAAgB;IAChB,IAAIF,QAAQG,UAAU;QACpBF,eAAeA,aAAaD,MAAM,CAACI,CAAAA,MAAOA,IAAID,QAAQ,KAAKH,OAAOG,QAAQ;IAC5E;IACA,IAAIH,QAAQlC,QAAQ;QAClBmC,eAAeA,aAAaD,MAAM,CAACI,CAAAA,MAAOA,IAAItC,MAAM,KAAKkC,OAAOlC,MAAM;IACxE;IAEA,mBAAmB;IACnBmC,eAAeA,aAAaI,IAAI,CAAC,CAACC,GAAGC,IAAMD,EAAEE,QAAQ,GAAGD,EAAEC,QAAQ;IAElE,MAAMC,gBAAgB;QACpBC,WAAWC,qBAAY;QACvBC,cAAcC,2BAAkB;QAChCC,cAAcC,kBAAS;IACzB;IAEA,qBACE,sBAAC/C;QAAIzB,WAAW,CAAC,UAAU,EAAEA,UAAU,CAAC;;0BAEtC,sBAACyB;gBAAIzB,WAAU;;kCACb,qBAACyE;wBAAGzE,WAAU;kCAAwC;;kCAGtD,qBAACoC;wBAAEpC,WAAU;kCAAgB;;;;0BAM/B,qBAACyB;gBAAIzB,WAAU;0BACZ0D,aAAanB,GAAG,CAAC,CAACsB,oBACjB,qBAACpE;wBAECC,aAAamE;wBACblE,UAAU6D;wBACV5D,gBAAgBA;wBAChBC,kBAAkBA;wBAClBC,cAAc;uBALT+D,IAAI3C,EAAE;;0BAWjB,qBAACO;gBAAIzB,WAAU;0BACZ0E,OAAOC,OAAO,CAACT,eAAe3B,GAAG,CAAC,CAAC,CAACqB,UAAU1D,KAAK;oBAClD,MAAM0E,eAAelB,aAAaD,MAAM,CAACI,CAAAA,MAAOA,IAAID,QAAQ,KAAKA;oBACjE,IAAIgB,aAAa9B,MAAM,KAAK,GAAG,OAAO;oBAEtC,qBACE,sBAACrB;wBAAmBzB,WAAU;;0CAC5B,qBAACE;gCAAKF,WAAU;;0CAChB,qBAACgC;gCAAGhC,WAAU;0CAAwC4D;;0CACtD,sBAACxB;gCAAEpC,WAAU;;oCAAyB4E,aAAa9B,MAAM;oCAAC;oCAAa8B,aAAa9B,MAAM,KAAK,IAAI,MAAM;;;;uBAHjGc;gBAMd;;;;AAIR"}