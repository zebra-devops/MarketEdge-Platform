{"version":3,"sources":["/Users/matt/Sites/MarketEdge/platform-wrapper/frontend/src/app/market-edge/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuthContext } from '@/hooks/useAuth'\nimport { useRouter } from 'next/navigation'\nimport { hasApplicationAccess } from '@/utils/application-access'\nimport ApplicationLayout from '@/components/layout/ApplicationLayout'\nimport MarketEdgeLanding from '@/components/applications/MarketEdgeLanding'\nimport { \n  ChartBarIcon, \n  UsersIcon, \n  ExclamationTriangleIcon,\n  PlusIcon,\n  ArrowPathIcon,\n  BeakerIcon\n} from '@heroicons/react/24/outline';\nimport { MarketSelector } from '@/components/market-edge/MarketSelector';\nimport { CompetitorTable } from '@/components/market-edge/CompetitorTable';\nimport { PricingChart } from '@/components/market-edge/PricingChart';\nimport { PerformanceMetrics } from '@/components/market-edge/PerformanceMetrics';\nimport { AlertsPanel } from '@/components/market-edge/AlertsPanel';\nimport { CinemaMarketShareChart } from '@/components/market-edge/CinemaMarketShareChart';\nimport { DummyDataToggle } from '@/components/ui/DummyDataToggle';\nimport { marketEdgeAPI } from '@/services/market-edge-api';\nimport { \n  Market, \n  MarketOverview, \n  MarketTrends, \n  CompetitorComparison \n} from '@/types/market-edge';\n\nexport default function MarketEdgePage() {\n  const { user, isLoading: authLoading } = useAuthContext()\n  const router = useRouter()\n  const [selectedMarket, setSelectedMarket] = useState<Market | null>(null);\n  const [marketOverview, setMarketOverview] = useState<MarketOverview | null>(null);\n  const [pricingTrends, setPricingTrends] = useState<MarketTrends | null>(null);\n  const [competitorComparison, setCompetitorComparison] = useState<CompetitorComparison | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<'overview' | 'competitors' | 'pricing' | 'alerts'>('overview');\n  const [isDummyMode, setIsDummyMode] = useState(true); // Default to dummy mode for testing\n  const [isCinemaDemoMode, setIsCinemaDemoMode] = useState(true); // Cinema demo mode for Odeon presentation\n  const [showLanding, setShowLanding] = useState(true); // Show landing page initially\n\n  // Check authentication and access\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login')\n    } else if (!authLoading && user && !hasApplicationAccess(user.application_access, 'market_edge')) {\n      router.push('/dashboard')\n    }\n  }, [user, authLoading, router])\n\n  // Configure API demo mode for cinema presentation\n  useEffect(() => {\n    marketEdgeAPI.setDemoMode(isCinemaDemoMode);\n    \n    // Auto-load cinema market when entering cinema demo mode\n    if (isCinemaDemoMode && !selectedMarket) {\n      const loadCinemaMarket = async () => {\n        try {\n          const markets = await marketEdgeAPI.getMarkets();\n          const cinemaMarket = markets.find(m => m.name.includes('Cinema') || m.name.includes('UK Cinema'));\n          if (cinemaMarket) {\n            setSelectedMarket(cinemaMarket);\n          }\n        } catch (err) {\n          console.error('Failed to auto-load cinema market:', err);\n        }\n      };\n      loadCinemaMarket();\n    }\n  }, [isCinemaDemoMode, selectedMarket]);\n\n  useEffect(() => {\n    if (selectedMarket) {\n      loadMarketData();\n    }\n  }, [selectedMarket, isDummyMode, isCinemaDemoMode]); // Reload data when mode changes\n\n  // Early return for loading/auth states - moved after ALL hooks to comply with Rules of Hooks\n  if (authLoading || !user || !hasApplicationAccess(user.application_access, 'market_edge')) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    )\n  }\n\n  const loadMarketData = async () => {\n    if (!selectedMarket) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const [overview, trends, comparison] = await Promise.all([\n        marketEdgeAPI.getMarketOverview(selectedMarket.id),\n        marketEdgeAPI.getPricingTrends(selectedMarket.id, { days_back: 30 }),\n        marketEdgeAPI.compareCompetitors(selectedMarket.id)\n      ]);\n\n      setMarketOverview(overview);\n      setPricingTrends(trends);\n      setCompetitorComparison(comparison);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load market data');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRefreshData = () => {\n    loadMarketData();\n  };\n\n  const tabs = [\n    { id: 'overview', name: 'Overview', icon: ChartBarIcon },\n    { id: 'competitors', name: 'Competitors', icon: UsersIcon },\n    { id: 'pricing', name: 'Pricing Analysis', icon: ChartBarIcon },\n    { id: 'alerts', name: 'Alerts', icon: ExclamationTriangleIcon },\n  ];\n\n  const handleGetStarted = () => {\n    setShowLanding(false)\n  }\n\n  if (showLanding) {\n    return (\n      <ApplicationLayout application=\"market_edge\">\n        <MarketEdgeLanding \n          onGetStarted={handleGetStarted}\n          showDemoMode={isDummyMode}\n        />\n      </ApplicationLayout>\n    )\n  }\n\n  return (\n    <ApplicationLayout application=\"market_edge\">\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center space-x-6\">\n            {/* Cinema Demo Mode Toggle */}\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id=\"cinema-demo-mode\"\n                  checked={isCinemaDemoMode}\n                  onChange={(e) => setIsCinemaDemoMode(e.target.checked)}\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                />\n                <label htmlFor=\"cinema-demo-mode\" className=\"ml-2 text-sm text-gray-700\">\n                  Cinema Demo Mode\n                </label>\n              </div>\n            </div>\n            \n            {/* Dummy Data Toggle */}\n            <DummyDataToggle\n              isDummyMode={isDummyMode}\n              onToggle={setIsDummyMode}\n            />\n            \n            {/* Market Selector and Actions */}\n            <div className=\"flex items-center space-x-4 ml-auto\">\n              <MarketSelector\n                selectedMarket={selectedMarket || undefined}\n                onMarketSelect={setSelectedMarket}\n                onCreateMarket={() => {\n                  // This would open a create market modal\n                  console.log('Create new market');\n                }}\n                className=\"w-64\"\n              />\n              \n              {selectedMarket && (\n                <button\n                  onClick={handleRefreshData}\n                  disabled={isLoading}\n                  className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n                >\n                  <ArrowPathIcon className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n                  Refresh\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {!selectedMarket ? (\n          // Welcome State\n          <div className=\"text-center py-12\">\n            <ChartBarIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            {isCinemaDemoMode ? (\n              <>\n                <h3 className=\"mt-2 text-xl font-bold text-gray-900\">Odeon Cinema Market Intelligence</h3>\n                <p className=\"mt-3 text-base text-gray-600 max-w-3xl mx-auto\">\n                  Welcome to Market Edge's cinema exhibition market analysis platform. \n                  You're viewing competitive intelligence for the UK cinema market including analysis of Vue, Cineworld, Empire, and Showcase.\n                </p>\n                <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto text-left\">\n                  <div className=\"bg-blue-50 p-6 rounded-lg\">\n                    <div className=\"text-blue-600 font-semibold text-sm uppercase tracking-wide\">Market Intelligence</div>\n                    <div className=\"mt-2 text-sm text-gray-700\">\n                      Track competitor pricing, market share, and strategic moves across 4 major UK cinema chains\n                    </div>\n                  </div>\n                  <div className=\"bg-green-50 p-6 rounded-lg\">\n                    <div className=\"text-green-600 font-semibold text-sm uppercase tracking-wide\">Competitive Analysis</div>\n                    <div className=\"mt-2 text-sm text-gray-700\">\n                      Real-time pricing data, location analysis, and premium experience comparisons\n                    </div>\n                  </div>\n                  <div className=\"bg-purple-50 p-6 rounded-lg\">\n                    <div className=\"text-purple-600 font-semibold text-sm uppercase tracking-wide\">Strategic Insights</div>\n                    <div className=\"mt-2 text-sm text-gray-700\">\n                      Market positioning recommendations and actionable competitive intelligence\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-8\">\n                  <div className=\"text-sm text-gray-500 mb-4\">Loading UK Cinema Exhibition Market...</div>\n                  <div className=\"flex justify-center\">\n                    <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <>\n                <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Welcome to Market Edge</h3>\n                <p className=\"mt-1 text-sm text-gray-500 max-w-2xl mx-auto\">\n                  Get started by selecting a market to analyze, or create a new market to begin tracking competitors and pricing data.\n                  {isDummyMode && (\n                    <span className=\"block mt-2 text-blue-600 font-medium\">\n                      Currently in test mode - select a market to see sample competitive intelligence data.\n                    </span>\n                  )}\n                </p>\n                <div className=\"mt-6\">\n                  <button\n                    onClick={() => {\n                      // This would open market selector or create modal\n                      console.log('Get started');\n                    }}\n                    className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    <PlusIcon className=\"h-4 w-4 mr-2\" />\n                    Get Started\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        ) : error ? (\n          // Error State\n          <div className=\"text-center py-12\">\n            <ExclamationTriangleIcon className=\"mx-auto h-12 w-12 text-red-400\" />\n            <h3 className=\"mt-2 text-lg font-medium text-gray-900\">Error Loading Market Data</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">{error}</p>\n            <div className=\"mt-6\">\n              <button\n                onClick={handleRefreshData}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\"\n              >\n                <ArrowPathIcon className=\"h-4 w-4 mr-2\" />\n                Try Again\n              </button>\n            </div>\n          </div>\n        ) : (\n          <>\n            {/* Cinema Demo Mode Banner */}\n            {isCinemaDemoMode && (\n              <div className=\"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-center\">\n                  <BeakerIcon className=\"h-5 w-5 text-blue-600 mr-2\" />\n                  <div className=\"text-sm text-blue-700\">\n                    <span className=\"font-medium\">Cinema Demo Mode - Odeon Presentation:</span> \n                    <span className=\"block mt-1\">\n                      Viewing UK Cinema Exhibition Market competitive intelligence with real competitor data from Vue, Cineworld, Empire, and Showcase Cinemas.\n                    </span>\n                  </div>\n                </div>\n              </div>\n            )}\n            \n            {/* Standard Demo Mode Banner */}\n            {!isCinemaDemoMode && isDummyMode && (\n              <div className=\"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-center\">\n                  <BeakerIcon className=\"h-5 w-5 text-blue-600 mr-2\" />\n                  <p className=\"text-sm text-blue-700\">\n                    <span className=\"font-medium\">Test Mode Active:</span> You're viewing sample competitive intelligence data for demonstration purposes.\n                    Toggle to \"Live\" mode to connect to real data sources.\n                  </p>\n                </div>\n              </div>\n            )}\n            \n            {/* Navigation Tabs */}\n            <div className=\"border-b border-gray-200 mb-8\">\n              <nav className=\"-mb-px flex space-x-8\">\n                {tabs.map((tab) => {\n                  const Icon = tab.icon;\n                  return (\n                    <button\n                      key={tab.id}\n                      onClick={() => setActiveTab(tab.id as any)}\n                      className={`${\n                        activeTab === tab.id\n                          ? 'border-blue-500 text-blue-600'\n                          : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                      } whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center`}\n                    >\n                      <Icon className=\"h-4 w-4 mr-2\" />\n                      {tab.name}\n                    </button>\n                  );\n                })}\n              </nav>\n            </div>\n\n            {/* Tab Content */}\n            {activeTab === 'overview' && (\n              <div className=\"space-y-8\">\n                {/* Market Overview Cards */}\n                {isCinemaDemoMode ? (\n                  // Cinema-specific KPI cards for Odeon demo\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n                      <div className=\"flex items-center\">\n                        <UsersIcon className=\"h-8 w-8 text-blue-600\" />\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Cinema Competitors</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">\n                            {marketOverview?.competitors.length || 4}\n                          </p>\n                          <p className=\"text-xs text-gray-400\">Major UK Chains</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n                      <div className=\"flex items-center\">\n                        <ChartBarIcon className=\"h-8 w-8 text-green-600\" />\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Market Size</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">£1.2B</p>\n                          <p className=\"text-xs text-gray-400\">UK Box Office 2024</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n                      <div className=\"flex items-center\">\n                        <div className=\"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center\">\n                          <span className=\"text-purple-600 font-bold text-sm\">£</span>\n                        </div>\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Avg Ticket Price</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">\n                            £{marketOverview?.metrics?.average_price?.toFixed(2) || '15.23'}\n                          </p>\n                          <p className=\"text-xs text-gray-400\">Peak pricing</p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200 shadow-sm\">\n                      <div className=\"flex items-center\">\n                        <ExclamationTriangleIcon className=\"h-8 w-8 text-red-500\" />\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Critical Alerts</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">\n                            {marketOverview?.recent_alerts.filter(a => !a.is_read && a.severity === 'high').length || 2}\n                          </p>\n                          <p className=\"text-xs text-gray-400\">Pricing changes</p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  // Standard KPI cards\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"flex items-center\">\n                        <UsersIcon className=\"h-8 w-8 text-blue-600\" />\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Competitors</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">\n                            {marketOverview?.competitors.length || 0}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"flex items-center\">\n                        <ChartBarIcon className=\"h-8 w-8 text-green-600\" />\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Data Points</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">\n                            {marketOverview?.recent_data_points || 0}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"flex items-center\">\n                        <ExclamationTriangleIcon className=\"h-8 w-8 text-yellow-600\" />\n                        <div className=\"ml-4\">\n                          <p className=\"text-sm font-medium text-gray-500\">Active Alerts</p>\n                          <p className=\"text-2xl font-semibold text-gray-900\">\n                            {marketOverview?.recent_alerts.filter(a => !a.is_read).length || 0}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Cinema Business Value Demonstration */}\n                {isCinemaDemoMode && (\n                  <div className=\"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border border-blue-200 rounded-lg p-8\">\n                    <div className=\"flex items-center justify-between mb-6\">\n                      <h3 className=\"text-xl font-bold text-gray-900\">Market Edge Business Value</h3>\n                      <div className=\"text-sm text-gray-500\">ROI Analysis for Odeon Cinemas</div>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                      <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-100\">\n                        <div className=\"text-3xl font-bold text-green-600\">£2.4M</div>\n                        <div className=\"text-sm font-medium text-gray-900 mt-1\">Annual Revenue Impact</div>\n                        <div className=\"text-xs text-gray-500 mt-1\">Through optimized pricing strategies</div>\n                      </div>\n                      \n                      <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-100\">\n                        <div className=\"text-3xl font-bold text-blue-600\">15%</div>\n                        <div className=\"text-sm font-medium text-gray-900 mt-1\">Pricing Decision Speed</div>\n                        <div className=\"text-xs text-gray-500 mt-1\">Faster competitive response time</div>\n                      </div>\n                      \n                      <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-100\">\n                        <div className=\"text-3xl font-bold text-purple-600\">3.2%</div>\n                        <div className=\"text-sm font-medium text-gray-900 mt-1\">Market Share Growth</div>\n                        <div className=\"text-xs text-gray-500 mt-1\">Data-driven expansion targeting</div>\n                      </div>\n                      \n                      <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-100\">\n                        <div className=\"text-3xl font-bold text-orange-600\">24/7</div>\n                        <div className=\"text-sm font-medium text-gray-900 mt-1\">Market Monitoring</div>\n                        <div className=\"text-xs text-gray-500 mt-1\">Real-time competitive intelligence</div>\n                      </div>\n                    </div>\n\n                    <div className=\"mt-6 bg-white p-6 rounded-lg\">\n                      <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Immediate Action Items</h4>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <div className=\"flex items-start\">\n                          <div className=\"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                          <div>\n                            <div className=\"font-medium text-gray-900 text-sm\">Price Response Required</div>\n                            <div className=\"text-xs text-gray-600\">Cineworld 4DX reduction needs immediate response</div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-start\">\n                          <div className=\"w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                          <div>\n                            <div className=\"font-medium text-gray-900 text-sm\">Opportunity Alert</div>\n                            <div className=\"text-xs text-gray-600\">Premium pricing gap vs Vue identified</div>\n                          </div>\n                        </div>\n                        <div className=\"flex items-start\">\n                          <div className=\"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                          <div>\n                            <div className=\"font-medium text-gray-900 text-sm\">Strategic Initiative</div>\n                            <div className=\"text-xs text-gray-600\">Launch subscription service to compete</div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Performance Metrics */}\n                {marketOverview?.metrics && (\n                  <PerformanceMetrics \n                    metrics={marketOverview.metrics} \n                    isLoading={isLoading}\n                  />\n                )}\n\n                {/* Recent Alerts */}\n                {marketOverview?.recent_alerts && (\n                  <AlertsPanel\n                    alerts={marketOverview.recent_alerts}\n                    isLoading={isLoading}\n                    onRefresh={handleRefreshData}\n                  />\n                )}\n              </div>\n            )}\n\n            {activeTab === 'competitors' && (\n              <div className=\"space-y-8\">\n                {/* Cinema Market Share Chart - Cinema Demo Mode */}\n                {isCinemaDemoMode && marketOverview?.competitors && (\n                  <CinemaMarketShareChart competitors={marketOverview.competitors} />\n                )}\n\n                {/* Competitor Analysis Table */}\n                {marketOverview?.competitors && (\n                  <CompetitorTable\n                    competitors={marketOverview.competitors}\n                    isLoading={isLoading}\n                    isCinemaDemoMode={isCinemaDemoMode}\n                    onViewCompetitor={(competitor) => {\n                      console.log('View competitor:', competitor);\n                    }}\n                    onEditCompetitor={(competitor) => {\n                      console.log('Edit competitor:', competitor);\n                    }}\n                  />\n                )}\n\n                {/* Competitive Pricing Analysis */}\n                {competitorComparison && (\n                  <PricingChart\n                    data={competitorComparison}\n                    chartType=\"bar\"\n                    title={isCinemaDemoMode ? \"UK Cinema Ticket Pricing Comparison\" : \"Competitor Price Comparison\"}\n                    height={400}\n                  />\n                )}\n              </div>\n            )}\n\n            {activeTab === 'pricing' && (\n              <div className=\"space-y-8\">\n                {/* Cinema Pricing Insights Banner */}\n                {isCinemaDemoMode && (\n                  <div className=\"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-6\">\n                    <h4 className=\"text-lg font-semibold text-gray-900 mb-3\">Cinema Pricing Intelligence</h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                      <div className=\"bg-white p-4 rounded-lg\">\n                        <div className=\"font-medium text-gray-900\">Premium Positioning</div>\n                        <div className=\"text-gray-600 mt-1\">Empire leads in premium pricing (£19.00 avg) with IMAX experiences</div>\n                      </div>\n                      <div className=\"bg-white p-4 rounded-lg\">\n                        <div className=\"font-medium text-gray-900\">Value Strategy</div>\n                        <div className=\"text-gray-600 mt-1\">Showcase competes on price (£13.99 avg) targeting price-sensitive segments</div>\n                      </div>\n                      <div className=\"bg-white p-4 rounded-lg\">\n                        <div className=\"font-medium text-gray-900\">Market Trends</div>\n                        <div className=\"text-gray-600 mt-1\">Overall pricing stable (-1.4%) with focus on premium experiences</div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Pricing Trends Chart */}\n                {pricingTrends && (\n                  <PricingChart\n                    data={pricingTrends}\n                    chartType=\"line\"\n                    title={isCinemaDemoMode ? \"UK Cinema Ticket Pricing Trends (30 Days)\" : \"Pricing Trends Over Time\"}\n                    height={500}\n                  />\n                )}\n\n                {/* Performance Metrics */}\n                {marketOverview?.metrics && (\n                  <PerformanceMetrics \n                    metrics={marketOverview.metrics} \n                    isLoading={isLoading}\n                  />\n                )}\n              </div>\n            )}\n\n            {activeTab === 'alerts' && (\n              <div className=\"space-y-8\">\n                {/* Cinema Business Intelligence Summary */}\n                {isCinemaDemoMode && (\n                  <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Cinema Market Intelligence Summary</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900 mb-3\">Key Strategic Opportunities</h4>\n                        <ul className=\"space-y-2 text-sm text-gray-600\">\n                          <li className=\"flex items-start\">\n                            <div className=\"w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                            <span>Premium pricing gap: Odeon can position between Empire (£19.00) and Vue (£12.83)</span>\n                          </li>\n                          <li className=\"flex items-start\">\n                            <div className=\"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                            <span>Subscription opportunity: Undercut Cineworld Unlimited's £17.90 monthly price</span>\n                          </li>\n                          <li className=\"flex items-start\">\n                            <div className=\"w-2 h-2 bg-purple-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                            <span>Geographic expansion: Target regions with limited premium cinema coverage</span>\n                          </li>\n                        </ul>\n                      </div>\n                      <div>\n                        <h4 className=\"font-semibold text-gray-900 mb-3\">Competitive Threats</h4>\n                        <ul className=\"space-y-2 text-sm text-gray-600\">\n                          <li className=\"flex items-start\">\n                            <div className=\"w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                            <span>Cineworld's 4DX price reduction putting pressure on premium segments</span>\n                          </li>\n                          <li className=\"flex items-start\">\n                            <div className=\"w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                            <span>Vue's IMAX expansion threatening premium market leadership</span>\n                          </li>\n                          <li className=\"flex items-start\">\n                            <div className=\"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-3 flex-shrink-0\"></div>\n                            <span>Showcase's aggressive subscription pricing disrupting value segment</span>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Market Alerts */}\n                {marketOverview?.recent_alerts && (\n                  <AlertsPanel\n                    alerts={marketOverview.recent_alerts}\n                    isLoading={isLoading}\n                    onRefresh={handleRefreshData}\n                  />\n                )}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </ApplicationLayout>\n  );\n}"],"names":["MarketEdgePage","user","isLoading","authLoading","useAuthContext","router","useRouter","selectedMarket","setSelectedMarket","useState","marketOverview","setMarketOverview","pricingTrends","setPricingTrends","competitorComparison","setCompetitorComparison","setIsLoading","error","setError","activeTab","setActiveTab","isDummyMode","setIsDummyMode","isCinemaDemoMode","setIsCinemaDemoMode","showLanding","setShowLanding","useEffect","push","hasApplicationAccess","application_access","marketEdgeAPI","setDemoMode","loadCinemaMarket","markets","getMarkets","cinemaMarket","find","m","name","includes","err","console","loadMarketData","div","className","overview","trends","comparison","Promise","all","getMarketOverview","id","getPricingTrends","days_back","compareCompetitors","Error","message","handleRefreshData","tabs","icon","ChartBarIcon","UsersIcon","ExclamationTriangleIcon","handleGetStarted","ApplicationLayout","application","MarketEdgeLanding","onGetStarted","showDemoMode","input","type","checked","onChange","e","target","label","htmlFor","DummyDataToggle","onToggle","MarketSelector","undefined","onMarketSelect","onCreateMarket","log","button","onClick","disabled","ArrowPathIcon","h3","p","span","PlusIcon","BeakerIcon","nav","map","tab","Icon","competitors","length","metrics","average_price","toFixed","recent_alerts","filter","a","is_read","severity","recent_data_points","h4","PerformanceMetrics","AlertsPanel","alerts","onRefresh","CinemaMarketShareChart","CompetitorTable","onViewCompetitor","competitor","onEditCompetitor","PricingChart","data","chartType","title","height","ul","li"],"mappings":"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"}